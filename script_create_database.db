CREATE DATABASE DB_VACINACAO;

USE DB_VACINACAO;

CREATE TABLE Paciente (
    co_paciente VARCHAR(100) PRIMARY KEY,
    tp_sexo_paciente CHAR(1),
    co_raca_cor_paciente VARCHAR(10),
    no_raca_cor_paciente VARCHAR(50),
    co_municipio_paciente VARCHAR(10),
    no_municipio_paciente VARCHAR(100),
    sg_uf_paciente CHAR(2),
    nu_cep_paciente VARCHAR(10),
    ds_nacionalidade_paciente VARCHAR(50),
    no_etnia_indigena_paciente VARCHAR(100),
    co_etnia_indigena_paciente VARCHAR(10),
    nu_idade_paciente INT,
    ds_condicao_maternal VARCHAR(50),
    co_condicao_maternal VARCHAR(10),
    no_uf_paciente VARCHAR(50)
);

CREATE TABLE Estabelecimento (
    co_cnes_estabelecimento VARCHAR(20) PRIMARY KEY,
    no_razao_social_estabelecimento VARCHAR(200),
    no_fantasia_estalecimento VARCHAR(200),
    co_municipio_estabelecimento VARCHAR(10),
    no_municipio_estabelecimento VARCHAR(100),
    sg_uf_estabelecimento CHAR(2),
    co_tipo_estabelecimento VARCHAR(10),
    ds_tipo_estabelecimento VARCHAR(100),
    co_natureza_estabelecimento VARCHAR(10),
    ds_natureza_estabelecimento VARCHAR(100),
    no_uf_estabelecimento VARCHAR(50)
);

CREATE TABLE Vacina (
    co_vacina VARCHAR(20) PRIMARY KEY,
    sg_vacina VARCHAR(20),
    ds_vacina VARCHAR(200),
    co_vacina_fabricante VARCHAR(20),
    ds_vacina_fabricante VARCHAR(100),
    co_lote_vacina VARCHAR(50)
);

CREATE TABLE Dose (
    co_documento VARCHAR(100) PRIMARY KEY,
    co_paciente VARCHAR(100),
    co_vacina VARCHAR(20),
    dt_vacina DATE,
    co_dose_vacina VARCHAR(10),
    ds_dose_vacina VARCHAR(100),
    co_local_aplicacao VARCHAR(10),
    ds_local_aplicacao VARCHAR(100),
    co_via_administracao VARCHAR(10),
    ds_via_administracao VARCHAR(100),
    co_cnes_estabelecimento VARCHAR(20),
    dt_entrada_rnds DATE,
    co_sistema_origem VARCHAR(20),
    ds_sistema_origem VARCHAR(100),
    st_documento VARCHAR(20),
    co_estrategia_vacinacao VARCHAR(20),
    ds_estrategia_vacinacao VARCHAR(100),
    co_origem_registro VARCHAR(20),
    ds_origem_registro VARCHAR(100),
    co_vacina_grupo_atendimento VARCHAR(20),
    ds_vacina_grupo_atendimento VARCHAR(100),
    co_vacina_categoria_atendimento VARCHAR(20),
    ds_vacina_categoria_atendimento VARCHAR(100),
    dt_deletado_rnds DATE,
    FOREIGN KEY (co_paciente) REFERENCES Paciente(co_paciente),
    FOREIGN KEY (co_vacina) REFERENCES Vacina(co_vacina),
    FOREIGN KEY (co_cnes_estabelecimento) REFERENCES Estabelecimento(co_cnes_estabelecimento)
);

CREATE TABLE Municipio (
    co_municipio VARCHAR(10) PRIMARY KEY,
    no_municipio VARCHAR(100),
    sg_uf CHAR(2)
);

CREATE TABLE Pais (
    co_pais VARCHAR(10) PRIMARY KEY,
    no_pais VARCHAR(100)
);

CREATE TABLE Fabricante (
    co_vacina_fabricante VARCHAR(20) PRIMARY KEY,
    ds_vacina_fabricante VARCHAR(100)
);

CREATE TABLE LoteVacina (
    co_lote_vacina VARCHAR(50) PRIMARY KEY,
    co_vacina VARCHAR(20),
    ds_vacina_fabricante VARCHAR(100),
    FOREIGN KEY (co_vacina) REFERENCES Vacina(co_vacina)
);

CREATE TABLE GrupoAtendimento (
    co_vacina_grupo_atendimento VARCHAR(20) PRIMARY KEY,
    ds_vacina_grupo_atendimento VARCHAR(100)
);

CREATE TABLE CategoriaAtendimento (
    co_vacina_categoria_atendimento VARCHAR(20) PRIMARY KEY,
    ds_vacina_categoria_atendimento VARCHAR(100)
);

CREATE TABLE EstrategiaVacinacao (
    co_estrategia_vacinacao VARCHAR(20) PRIMARY KEY,
    ds_estrategia_vacinacao VARCHAR(100)
);

CREATE TABLE TipoEstabelecimento (
    co_tipo_estabelecimento VARCHAR(10) PRIMARY KEY,
    ds_tipo_estabelecimento VARCHAR(100)
);

CREATE TABLE NaturezaEstabelecimento (
    co_natureza_estabelecimento VARCHAR(10) PRIMARY KEY,
    ds_natureza_estabelecimento VARCHAR(100)
);

CREATE TABLE EtniaIndigena (
    co_etnia_indigena_paciente VARCHAR(10) PRIMARY KEY,
    no_etnia_indigena_paciente VARCHAR(100)
);

CREATE TABLE Nacionalidade (
    ds_nacionalidade_paciente VARCHAR(50) PRIMARY KEY
);
